# dotfiles

![nvim](https://github.com/yuucu/dotfiles/assets/39527561/896889e6-fc51-4058-bdf2-4e917883e635)

Neovim中心のdotfiles設定。[chezmoi](https://www.chezmoi.io/)で管理され、age暗号化で機密情報を安全に管理。

## ✨ 特徴

- 🛡️ **セキュア**: age暗号化で秘密鍵を安全に管理
- 🌍 **クロスプラットフォーム**: macOS/Linux対応
- 🚀 **即座にセットアップ**: ワンライナーでインストール完了
- 🔧 **テンプレート化**: OS別の設定自動分岐
- ✅ **CI/CD**: GitHub Actionsで品質保証

## 🚀 クイックスタート

### ワンライナーインストール

```bash
sh -c "$(curl -fsLS get.chezmoi.io)" -- init --apply yuucu/dotfiles
```

### 手動インストール

```bash
# 1. 依存ツールのインストール
curl -fsLS get.chezmoi.io | sh  # chezmoi
brew install age                 # 暗号化ツール (macOS)

# 2. リポジトリの取得と適用
chezmoi init yuucu/dotfiles
chezmoi apply
```

## 📋 前提条件

- **chezmoi** ≥ 2.50
- **age** (暗号化用)
- **git**
- **neovim** ≥ 0.10
- **homebrew** (macOS) / **apt** (Ubuntu)

## 🗂️ ディレクトリ構成

```
dotfiles/
├── README.md                    # このファイル
├── LICENSE                      # MITライセンス
├── .chezmoi.yaml               # chezmoi設定
├── .chezmoiignore              # 無視ファイル設定
├── .chezmoiexternal.toml       # 外部リポジトリ管理
├── scripts/
│   └── bootstrap.sh            # 初期化スクリプト
├── dot_config/
│   └── nvim/                   # Neovim設定 (lazy.nvim)
│       ├── init.lua
│       ├── lua/
│       └── lazy-lock.json
├── dot_zshrc.tmpl              # テンプレート化されたzsh設定
├── dot_ideavimrc               # IntelliJ vim設定
└── private/
    └── encrypted_*             # age暗号化ファイル
```

## 🔐 暗号化ファイルの管理

### 初回設定

```bash
# age鍵の生成
mkdir -p ~/.config/age
age-keygen -o ~/.config/age/keys.txt

# 秘密鍵の暗号化追加
chezmoi add --encrypt ~/.ssh/id_rsa
```

### 復号化

```bash
# 環境変数で鍵を設定
export AGE_SECRET_KEY="$(cat ~/.config/age/keys.txt | grep -v '#')"
chezmoi apply
```

## 🛠️ カスタマイズ

### 個人情報の設定

```yaml
# ~/.config/chezmoi/chezmoi.yaml
data:
  name: "あなたの名前"
  email: "your-email@example.com"
```

### OS別設定の追加

```go
{{- if eq .chezmoi.os "darwin" }}
# macOS専用設定
{{- else if eq .chezmoi.os "linux" }}
# Linux専用設定
{{- end }}
```

## 📦 含まれる設定

### Neovim設定

<a href="https://dotfyle.com/yuucu/dotfiles-config-nvim"><img src="https://dotfyle.com/yuucu/dotfiles-config-nvim/badges/plugins?style=flat" /></a>
<a href="https://dotfyle.com/yuucu/dotfiles-config-nvim"><img src="https://dotfyle.com/yuucu/dotfiles-config-nvim/badges/leaderkey?style=flat" /></a>
<a href="https://dotfyle.com/yuucu/dotfiles-config-nvim"><img src="https://dotfyle.com/yuucu/dotfiles-config-nvim/badges/plugin-manager?style=flat" /></a>

- **プラグインマネージャー**: lazy.nvim
- **LSP**: lsp-zero.nvim + mason.nvim
- **補完**: nvim-cmp
- **ファジーファインダー**: telescope.nvim
- **Git統合**: gitsigns.nvim + diffview.nvim
- **テーマ**: tokyonight、catppuccin他

### Shell設定

- **Zsh**: 設定済みエイリアス・プロンプト
- **Starship**: クロスシェルプロンプト
- **mise**: 開発ツールバージョン管理
- **Alacritty**: ターミナル設定

## 🧪 開発・テスト

```bash
# 設定のドライラン
chezmoi apply --dry-run --verbose

# Lua設定の構文チェック
nvim --headless "+Lazy! sync" +qa

# シェルスクリプトの構文チェック
shellcheck scripts/*.sh
```

## 🤝 コントリビュート

1. Fork this repository
2. Create feature branch: `git checkout -b feature/amazing-feature`
3. Commit changes: `git commit -m 'Add amazing feature'`
4. Push to branch: `git push origin feature/amazing-feature`
5. Open Pull Request

## 📄 ライセンス

[MIT License](LICENSE) - 自由に利用・改変・再配布可能

## 🙏 謝辞

This dotfiles configuration is inspired by the chezmoi community and various open-source dotfiles repositories.

---

*Generated by [Dotfyle](https://dotfyle.com)*
